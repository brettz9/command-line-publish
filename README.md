# command-line-publish

Tool to convert [`command-line-args`](https://www.npmjs.com/package/command-line-args)/[`command-line-usage`](https://github.com/75lb/command-line-usage/)
JSON arrays to SVG or HTML.

## Install

```shell
npm install -D command-line-publish
```

## CLI Usage

```shell
command-line-publish <args>
```

or:

```shell
clp --format=html --output="cli.html" --config="jsWithSectionsExport.js"
clp --format=svg --output="cli.svg" --config="jsonWithSectionsProperty.json"
```

And here is the documentation generated by our use of `command-line-publish`
on itself.

First as HTML:

- [cli.html](https://brettz9.github.io/command-line-publish/cli.html)

And then as embeddable SVG (not copy-pasteable from Github, but it is if you
visit the file [directly](https://brettz9.github.io/command-line-publish/cli.svg)):

[![cli.svg](https://brettz9.github.io/command-line-publish/cli.svg)](cli.svg)

After using the commands to generate, you can:

- Link to the HTML, e.g., as we did above: `[cli.html](https://brettz9.github.io/command-line-publish/cli.html)`
- Embed the SVG, e.g., as we did above: `[![cli.svg](https://brettz9.github.io/command-line-publish/cli.svg)](cli.svg)`

Note that we have configured this repository's `master` branch to have its
contents served from Github Pages.

## Programmatic usage

```js
const {html, svg} = require('command-line-publish');

// This JavaScript (or JSON) file must export a `sections` property,
//  and for easier reusability, it is recommended that ths same file
//  define a `definitions` property for use by `command-line-args`
const {sections} = require('./path/to/config-file.js');

// The options objects are optional
svg(sections, {target: 'cli.svg', ansiToSvgOptions: {}});
html(sections, {target: 'cli.html', ansiToHtmlOptions: {}});
```

Here is a sampling of our own config file:

```js
'use strict';

const pkg = require('../package.json');

const optionDefinitions = [
  {
    name: 'target', alias: 't', type: String, defaultOption: true,
    description: 'The file path target to which to write the result',
    typeLabel: '{underline file-path}'
  },
  // ... snipped
  {
    name: 'help', alias: 'h', type: Boolean,
    description: 'Display this help guide'
  }
];

const cliSections = [
  {
    // We're now actually letting `command-line-basics auto-generate the
    //  `header` now
    header: pkg.name,
    // Add italics: `{italic textToItalicize}`
    content: pkg.description +
      '\n\n{italic clp -c="configPath" [--format=svg|html] target}'
  },
  {
    // We're now actually letting `command-line-basics auto-generate the
    //  `header` now
    header: 'Options',
    optionList: optionDefinitions
  }
];

exports.definitions = optionDefinitions;
exports.sections = cliSections;
```

## See also

- [command-line-args](https://github.com/75lb/command-line-args)
- [command-line-usage](https://github.com/75lb/command-line-usage/)
- [command-line-basics](https://github.com/brettz9/command-line-basics)
